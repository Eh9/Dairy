# C语言链接属性与extern、static关键字

　　标识符的链接属性决定如何处理在不同文件中出现的标识符，链接属性有三种：external（外部）、internal（内部）和none（无），没有链接属性的标识符（none）总是被当做单独的个体，也就是说该标识符的多个声明被当做独立不同的实体。属于internal链接属性的标识符在同一个源文件内的所有声明中都指同一个实体，但位于不同源文件的多个声明则分属不同的实体。属于external链接属性的标识符不论声明多少次、位于几个源文件都表示同一个实体。

　　关键字extern和static用于在声明中修改标识符的链接属性，如果某个声明在正常情况下具有external链接属性，在它前面加上static关键字可以使它的链接属性变为internal。static只对缺省链接属性为external的声明才有改变链接属性的效果。

　　当extern关键字用于源文件中一个标识符的第一次声明时，它指定该标识符具有external链接属性，但是如果它用于该标识符的第2次或以后的声明时，它并不会更改由第1次声明所指定的链接属性。

　　当用于不同的上下文环境时，static关键字具有不同的意思。当它用于函数定义或代码块之外的变量声明时，static关键字用于修改标识符的链接属性，从external改为internal，但标识符的存储类型和作用域不受影响，用这种方式声明的函数或变量只能在声明它们的源文件中访问。

　　当它用于代码块内部的变量声明时，static关键字用于修改变量的存储类型，从自动变量修改为静态变量，但变量的链接属性和作用域不受影响。用这种方式声明的变量在程序执行之前创建，并在程序的整个执行期间一直存在，而不是每次在代码块开始执行时创建，在代码块执行完毕后销毁。
