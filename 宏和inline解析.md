# inline和宏  
## inline  
### 优点：  
* inline定义的内联函数，函数代码被放入符号表中，在使用时进行替换（像宏一样展开），效率很高。
* 类的内联函数也是函数。编绎器在调用一个内联函数，首先会检查参数问题，保证调用正确，像对待真正函数一样，消除了隐患及局限性。
* inline可以作为类的成员函数，刀可以使用所在类的保护成员及私有成员。  
### 缺点：
内联函数以代码复杂为代价，它以省去函数调用的开销来提高执行效率。所以一方面如果内联函数体内代码执行时间相比函数调用开销较大没有太大的意义；另一方面每一处内联函数的调用都要复制代码，消耗更多的内存空间，因此以下情况不宜使用内联函数。
* 如果函数的代码较长，使用内联将消耗过多内存。
* 如果函数体内有循环，那么执行函数代码时间比调用开销大。  

## 宏
### 优点：
* 提高了程序的可读性，同时也方便进行修改；
* 提高程序的运行效率：使用带参的宏定义既可完成函数调用的功能，又能避免函数的出栈与入栈操作，减少系统开销，提高运行效率；
* 宏是由预处理器处理的，通过字符串操作可以完成很多编译器无法实现的功能。比如##连接符。
### 缺点：
预编译语句仅仅是简单的值代替，缺乏类型的检测机制。这样预处理语句就不能享受C++严格的类型检查的好处，从而可能成为引发一系列错误的隐患。
* 由于是直接嵌入的，所以代码可能相对多一点；
* 嵌套定义过多可能会影响程序的可读性，而且很容易出错；
* 对带参的宏而言，由于是直接替换，并不会检查参数是否合法，存在安全隐患。

## 区别：
* 内联函数在编译时展开，宏在预编译时展开；
* 内联函数直接嵌入到目标代码中，宏是简单的做文本替换；
* 内联函数有类型检测、语法判断等功能，而宏没有；
* inline函数是函数，宏不是；
* 宏定义时要注意书写（参数要括起来）否则容易出现歧义，内联函数不会产生歧义； 
 
